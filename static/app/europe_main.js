// Generated by CoffeeScript 1.10.0
var calc_optimal_height, clear_delay, clear_timer, delay_id, display_elapsed, make_content_wrapper, set_delay, set_timer, timer_id;

window.channel = Backbone.Radio.channel('main');

document['onkeypress'] = function(e) {
  var any_key, evt;
  evt = e || window.event;
  any_key = true;
  if (evt.keyCode === 113) {
    window.channel.trigger('key', 'left');
  } else if (evt.keyCode === 119) {
    window.channel.trigger('key', 'right');
  } else if (evt.keyCode === 112) {
    window.channel.trigger('key', 'fire');
  } else if (evt.keyCode === 49) {
    window.channel.trigger('debug:good');
  } else if (evt.keyCode === 48) {
    window.channel.trigger('debug:bad');
  } else {
    any_key = false;
  }
  if (any_key) {
    window.channel.trigger('keypress');
  }
};

make_content_wrapper = function() {
  var el;
  el = $('#main').append('<div></div>');
  return el.find('div');
};

display_elapsed = function(tenth_seconds) {
  var hours, minutes, sec_num, seconds, tenth;
  tenth = Math.round(tenth_seconds % 10);
  sec_num = parseInt(Math.round(tenth_seconds / 10), 10);
  hours = Math.floor(sec_num / 3600);
  minutes = Math.floor((sec_num - (hours * 3600)) / 60);
  seconds = sec_num - (hours * 3600) - (minutes * 60);
  if (hours < 10) {
    hours = "0" + hours;
  }
  if (minutes < 10) {
    minutes = "0" + minutes;
  }
  if (seconds < 10) {
    seconds = "0" + seconds;
  }
  return minutes + ":" + seconds + "," + tenth;
};

calc_optimal_height = function(rows, margin, height) {
  var out;
  if (height == null) {
    height = 780;
  }
  out = (height - margin * rows) / rows;
  return Math.floor(out);
};

delay_id = void 0;

clear_delay = function() {
  if (delay_id !== void 0) {
    window.clearTimeout(delay_id);
  }
  return delay_id = void 0;
};

set_delay = function(fn, delay) {
  clear_delay();
  return delay_id = window.setTimeout(fn, delay);
};

timer_id = void 0;

clear_timer = function() {
  if (timer_id !== void 0) {
    window.clearInterval(timer_id);
  }
  return timer_id = void 0;
};

set_timer = function(fn, delay) {
  clear_timer();
  return timer_id = window.setInterval(fn, delay);
};
